<section class="feature_product_area section_gap_bottom_custom">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <div class="main_title">
          <h2><span>Featured Product</span></h2>
          <p>Bring called seed first of third give itself now ment</p>
        </div>
      </div>
    </div>

    <div class="row">
      {% for product in collections['featured-products'].products limit: 3 %}
        <div class="col-lg-4 col-md-6">
          <div class="single-product">
            <div class="product-img">
              <img
                class="img-fluid w-100"
                src="{{ product.featured_image | img_url: '500x' }}"
                alt="{{ product.title }}"
              >
              <div class="p_icon">
                <a href="{{ product.url }}">
                  <i class="ti-eye"></i>
                </a>
                <a href="#" onclick="addToWishlist('{{ product.id }}')">
                  <i class="ti-heart"></i>
                </a>
                <a href="#" onclick="addToCart('{{ product.variants.first.id }}', 1)">
                  <i class="ti-shopping-cart"></i>
                </a>
              </div>
            </div>
            <div class="product-btm">
              <a href="{{ product.url }}" class="d-block">
                <h4>{{ product.title }}</h4>
              </a>
              <div class="mt-3">
                <span class="mr-4">{{ product.price | money }}</span>
                {% if product.compare_at_price > product.price %}
                  <del>{{ product.compare_at_price | money }}</del>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<script>
  function addToCart(variantId, quantity) {
    fetch('/cart/add.js', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ id: variantId, quantity: quantity })
    }).then(response => response.json()).then(data => {
      alert('Added to cart!');
    });
  }

  function addToWishlist(productId) {
    alert('Added to wishlist!'); // Implement actual wishlist logic if needed.
  }
</script>

{% schema %}
{
  "name": "Featured Products",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Featured Products"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Section Subtitle",
      "default": "Check out our best products"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Select Collection"
    }
  ],
  "presets": [
    {
      "name": "Featured Products",
      "category": "Products"
    }
  ]
}
{% endschema %}
